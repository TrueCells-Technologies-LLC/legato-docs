<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Legato: C Standard Parameters</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo">
    <img alt="Logo" src="legatoLogo.png"/>
    <div id="projectbrief">Wireless M2M smooth and connected</div>
  </td>
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_c_standards_parameters.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">C Standard Parameters </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="_c_standards_parameters.html#cstdsparamCamelCase">Camel Case</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamPrefix">Prefix</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamPointers">Pointers</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamStaticVariables">Static Variables</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamAbbreviations">Abbreviations</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamCommenting">Commenting</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamSeparateInterfacefromImplementation">Separating Interface from Implementation</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamInterfaceDocumentation">Interface Documentation</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamFunctionParameter">Function Parameters</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamConstPointers">Const Pointers</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamMultithreading">Multithreading</a> <br/>
 <a class="el" href="_c_standards_parameters.html#cstdsparamTabs">Tabs</a> <br/>
</p>
<p>Other C standards pages:</p>
<p><a class="el" href="_ccoding_stds_main.html">C Language Coding Standards</a> <br/>
 <a class="el" href="_c_standards_abbreviations.html">C Standard Abbreviations</a></p>
<h2><a class="anchor" id="cstdsparamCamelCase"></a>
Camel Case</h2>
<p>Variable names and function parameter names should be in CamelCase.</p>
<h2><a class="anchor" id="cstdsparamPrefix"></a>
Prefix</h2>
<p>Variables are never defined inside header files, and therefore they never need prefixes.</p>
<h2><a class="anchor" id="cstdsparamPointers"></a>
Pointers</h2>
<p>Pointers are used very differently than non-pointer variables. Not only does a range of new operators become available for use with pointers, but mathematical operations take on a whole new meaning when used with pointers. As a result, it is important to distinguish pointer variables from non-pointer variables. Therefore, the names of pointer variables '''must end in "Ptr"'''.</p>
<div class="fragment"><pre class="fragment"><span class="keywordtype">int</span> index = 0;
<span class="keywordtype">int</span>* indexPtr = &amp;index;
</pre></div><p>Note that there is an exception when working with opaque types. This is because pointers are often used to implement opaque types in C. For example, a header file might contain something like this: </p>
<div class="fragment"><pre class="fragment"><span class="keyword">typedef</span> <span class="keyword">struct </span>foo_Sandwich* foo_SandwichRef_t;
</pre></div><p> This defines a type that can be used to refer to a "Sandwich" object. Note that struct foo_Sandwich is never defined outside of the "foo" module (and may not even be defined inside of the foo module). Therefore, to all outsiders, this reference looks like a pointer to an incomplete type and cannot be dereferenced. Inside the "foo" module, struct foo_Sandwich could be defined ''or'' this pointer type could even be used to hold an integer, a char, or anything else that is the same size or smaller than a pointer. For example, a "file reference" could be implemented on some systems as an integer file descriptor. In these cases, because the reference is an opaque type that is never used as a pointer by anyone outside of the module that implements it, and because it might not be a pointer at all even inside the module that implements it, variables of '''opaque pointer types don't need a "Ptr" suffix'''.</p>
<h2><a class="anchor" id="cstdsparamStaticVariables"></a>
Static Variables</h2>
<p>Variables that exist on the stack are function parameters and "automatic variables" (non-static variables declared inside of functions). When these variables go out of scope, they disappear. That is, their memory is released to be later used for other purposes. To make it obvious that these variables are stack variables and not static variables, they '''must start with a lower-case letter'''.</p>
<p>Because the scope of these variables is limited to within a specific function or compound block within a function, they '''need not have a prefix''' to avoid naming conflicts with variables in other scopes.</p>
<p>For example, </p>
<div class="fragment"><pre class="fragment"><span class="keyword">static</span> <span class="keywordtype">void</span> Function(<span class="keywordtype">int</span> numericParameter)
{
    <span class="keywordtype">char</span>* stringAutoVariable;


    ...
}
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>Only stack variable names and struct/union member names can (and must) start with lower-case letters.</dd></dl>
<p>Static variables are not stored in either the stack or the heap. They are statically allocated in the data segment of the process's address space. Furthermore, they have scope limited to either a compound statement (if defined inside a function), or a file (if defined outside of all functions). Because these variables are never visible outside of a file, they don't need any special prefix to prevent naming conflicts with variables from other files. But, because they are stored differently than variables on the stack (and don't disappear when they go out of scope), they '''start with an upper-case letter''' to distinguish them from stack variables.</p>
<p>For example, </p>
<div class="fragment"><pre class="fragment"><span class="keyword">static</span> <span class="keywordtype">int</span> CallCounter = 0;  <span class="comment">// This is a file-scope variable.</span>

<span class="keyword">static</span> <span class="keywordtype">void</span> Function(<span class="keywordtype">int</span> numericParameter)
{
    <span class="keyword">static</span> <span class="keywordtype">bool</span> WasCalledBefore = FALSE;
    <span class="keywordtype">char</span>* stringAutoVariable;

    <span class="keywordflow">if</span> (!WasCalledBefore)
    {
        ...
        WasCalledBefore = TRUE;
    }

    CallCounter++;

    ...
}
</pre></div><h2><a class="anchor" id="cstdsparamAbbreviations"></a>
Abbreviations</h2>
<p>In the interests of having manageable-length identifiers, developers often abbreviate words when constructing identifiers. Unfortunately, if these abbreviations are not carefully chosen, they can often create confusion.</p>
<p>See <a class="el" href="_c_standards_abbreviations.html">C Standard Abbreviations</a>. Other abbreviations should <b>not</b> be used.</p>
<h2><a class="anchor" id="cstdsparamCommenting"></a>
Commenting</h2>
<p>If anything not completely obvious is going on, it must be documented clearly using comments.</p>
<p>Comments should also be used to improve readability, wherever appropriate.</p>
<p>However, there's '''no point''' in commenting the obvious, like this: </p>
<div class="fragment"><pre class="fragment"><span class="comment">// Set the flag</span>
isReady = TRUE;
</pre></div><p>Comments should focus mainly on the '''why''', as opposed to the ''what'' or the ''how''. The code should be written in such a way that ''what'' the code is doing and ''how'' it is doing it is obvious given how nicely named the identifiers are and how cleanly structured the code is. If it isn't, please consider rewriting the code. If rewriting it to make the ''what'' and ''how'' more obvious is not practical, then do please comment the ''what'' and the ''how'', but rewriting for clarity of the code is preferred. What cannot often be conveyed in the code itself is ''why'' the code is doing what it is doing. This is the most valuable information to have in comments, since it can shine light on pitfalls and help quickly identify whether design change options are viable. Often, the ''why'' was learned the hard way, so documenting it can save others from having to learn it the hard way too. Also, sometimes things are done arbitrarily, which is good to know too so people don't have to fear that making changes to it might break something in some subtle way.</p>
<p>C++ style comments are permitted in C code. All modern compilers support them.</p>
<p>Each module should contain a module comment block at the top of the file that describes the module's purpose. The header comment block should be formatted like this:</p>
<div class="fragment"><pre class="fragment">
Each <span class="keyword">function</span> should be preceded by a comment block that describes the purpose of the <span class="keyword">function</span>, its possible <span class="keywordflow">return</span> values and any side effects that it may have.  The <span class="keyword">function</span> blocks should be formatted like <span class="keyword">this</span>:


<span class="comment">//--------------------------------------------------------------------------------------------------</span>
<span class="comment"></span><span class="comment">//--------------------------------------------------------------------------------------------------</span>
le_mem_PoolRef_t <a class="code" href="le__mem_8h.html#a7b3fdd3bcbd5ac24b3a00374188a32da">le_mem_CreateSubPool</a>
(
    le_mem_PoolRef_t    pool,       
    <span class="keyword">const</span> <span class="keywordtype">char</span>*         name,       

    <span class="keywordtype">size_t</span>              numObjects  
);


Function parameters should be documented with comments after the parameter as shown in the example above.  Placing the comments after the parameters as opposed to in the <span class="keyword">function</span> comment block keeps the comments and parameters together and makes the comments either to read.  It also serves as a reminder to the developer to update the comments when the parameters are changed.

A <span class="keyword">struct </span>should be documented in a similar manner where each field has comments proceeding it, for example:


<span class="comment">//--------------------------------------------------------------------------------------------------</span>
<span class="comment"></span><span class="comment">//--------------------------------------------------------------------------------------------------</span>
typedef struct
{
    uint64_t    numAllocs;      
    <span class="keywordtype">size_t</span>      numFree;        
    <span class="keywordtype">size_t</span>      numOverflows;   
}
<a class="code" href="structle__mem___pool_stats__t.html">le_mem_PoolStats_t</a>;


Enumerated types should also be documented in a similar manner.  



<span class="comment">//--------------------------------------------------------------------------------------------------</span>
<span class="comment"></span><span class="comment">//--------------------------------------------------------------------------------------------------</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span>
{
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86ca5066a4bcec691c6b67843b8f79656422" title="Successful.">LE_OK</a> = 0,              
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86ca77a7505b0443df2fa1bab375c7267637" title="Referenced item does not exist or could not be found.">LE_NOT_FOUND</a> = -1,      
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86ca6bff37e5294d5f5be87549661e30844d" title="It is not possible to perform the requested action.">LE_NOT_POSSIBLE</a> = -2,   
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86caef8ecf11fa8556fd2d3ca8faab697717" title="An index or other value is out of range.">LE_OUT_OF_RANGE</a> = -3,   
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86ca68b2d1935e287dda88cba448508cfbd7" title="Insufficient memory is available.">LE_NO_MEMORY</a> = -4,      
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86cac6c0cac62213b786dabd7bf3e73bcec1" title="Current user does not have permission to perform requested action.">LE_NOT_PERMITTED</a> = -5,  
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86cac409634423b6b1ef09643529f6224798" title="Unspecified internal error.">LE_FAULT</a> = -6,          
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86cae467864059902be006a02328f7079340" title="Communications error.">LE_COMM_ERROR</a> = -7,     
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86ca82d9e8dc0ed1d6288003fc2819783655" title="A time-out occurred.">LE_TIMEOUT</a> = -8,        
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86cae42c9d785827fc3a9c47fb55baca7879" title="An overflow occurred or would have occurred.">LE_OVERFLOW</a> = -9,       
    <a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86ca5016e2f65890028d6642e010891a113f" title="Would have blocked if non-blocking behaviour was not requested.">LE_WOULD_BLOCK</a> = -10,   
}
<a class="code" href="le__basics_8h.html#a1cca095ed6ebab24b57a636382a6c86c">le_result_t</a>;


However, <span class="keywordflow">if</span> the meaning of the constants in an enumerated type are obvious from their names the comments may be omitted as in the following example.


<span class="comment">//--------------------------------------------------------------------------------------------------</span>
<span class="comment"></span><span class="comment">//--------------------------------------------------------------------------------------------------</span>
typedef <span class="keyword">enum</span>
{
    FALSE = 0,
    TRUE = 1
}
bool;
</pre></div><h2><a class="anchor" id="cstdsparamSeparateInterfacefromImplementation"></a>
Separating Interface from Implementation</h2>
<p>Header files should contain only interface details. Implementation details should appear only in <code></code>.c files.</p>
<p>The separation of interface from implementation reduces coupling, which increases quality.</p>
<h2><a class="anchor" id="cstdsparamInterfaceDocumentation"></a>
Interface Documentation</h2>
<p>Inter-component interfaces should be documented using Doxygen. This allows documentation pages to be written right inside the include (.h) files.</p>
<h2><a class="anchor" id="cstdsparamFunctionParameter"></a>
Function Parameters</h2>
<p>The number of parameters passed to any given function should be kept as low as possible. Functions with less parameters tend to be easier to understand and easier to use. As a general guideline, '''C functions should have 3 parameters or less'''.</p>
<h2><a class="anchor" id="cstdsparamConstPointers"></a>
Const Pointers</h2>
<p>Pointer type function parameters must be declared <code>const</code> if the object pointed to will not be modified by the function it is being passed to.</p>
<p>Pointer type return values must be declared <code>const</code> if the object being returned must not be modified by the caller.</p>
<h2><a class="anchor" id="cstdsparamMultithreading"></a>
Multithreading</h2>
<p>Sometimes multithreading can be a powerful tool, allowing functionally related code to be grouped into a single flow of control where it would otherwise be fragmented into small chunks that can run without blocking. However, multithreading can easily become the source of some of the most nasty bugs.</p>
<p>What can we do in coding standards to help prevent bugs arising from multithreading? How about defining how synchronization is performed? Can we have a standard macro definition for mutual exclusion for example? Maybe that is a little outside of what coding standards normally define, but it could be useful.</p>
<h2><a class="anchor" id="cstdsparamTabs"></a>
Tabs</h2>
<p>Unfortunately, tab characters are not handled in a consistent way in editors and browsers. Some put tab stops at the equivalent of 8 spaces, others use 4 and, albeit rarely, other distances are sometimes used as well. As a result, source code containing tab characters are not rendered properly in all cases.</p>
<p>Tab characters must be avoided in C source code. '''Spaces must be used''' to indent lines C code, instead.</p>
<p>The standard indentation distance is '''4 spaces''' per indentation level.</p>
<p>Configure your editor(s) now! (...and, while you're at it, tell your editor not to automatically go and change pre-existing code.)</p>
<hr/>
<p>Copyright (C) Sierra Wireless, Inc. 2014. All rights reserved. Use of this work is subject to license. </p>
</div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
  <div id="nav-path" class="navpath">
    <ul>
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless 2014
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.7.6.1
        </div>
    </div>
</body>
</html>
