<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Legato: adef processes</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

<link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo">
    <img alt="Logo" src="legatoLogo.png"/>
    <div id="projectbrief">Wireless M2M smooth and connected</div>
  </td>
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('processes_adef.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">adef processes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="processes_adef.html#processRun">run</a> <br/>
 <a class="el" href="processes_adef.html#processenvVars">environment variarbles</a> <br/>
 <a class="el" href="processes_adef.html#processPriority">priority</a> <br/>
 <a class="el" href="processes_adef.html#processcoreFileSize">core dump files</a> <br/>
 <a class="el" href="processes_adef.html#processmaxFileSize">max file size</a> <br/>
 <a class="el" href="processes_adef.html#processmemLockSize">max memory lock</a> <br/>
 <a class="el" href="processes_adef.html#processnumFds">file descriptors</a> <br/>
 <a class="el" href="processes_adef.html#faultAction">faultAction</a> <br/>
</p>
<p>Specify processes to run when the app is started. The processes section of the .adef has optional subsections.</p>
<p>Contains environment variables, limits, and handling actions that apply to all the processes listed. If different processes have different variables, they must be in a separate processes: sections.</p>
<div class="fragment"><pre class="fragment">processes:

    <span class="comment">// Start up these processes when the app starts</span>
    run: myProc1 ( myExe --foo -b 43 )
    run: myProc2 ( myExe –bar --b 92 )
    run: ( myExe2 &quot;Hello, world.&quot; )  <span class="comment">// If no proc name is specified, uses the exe name by default.</span>

    <span class="comment">// Env var settings (name = value) for all processes in this section.</span>
    envVars:
        LE_LOG_LEVEL = DEBUG
        LE_LOG_LOCATION = &quot;stderr + syslog&quot;

    priority: medium    <span class="comment">// Starting (and maximum) scheduling priority.  Process can only lower its priority from here.</span>

    vMemSize: 200K      <span class="comment">// Maximum number of bytes of virtual memory that can be allocated to the process.</span>
    coreFileSize: 100K  <span class="comment">// Maximum size of core dump files.</span>
    maxFileSize: 50K    <span class="comment">// Files are not allowed to grow bigger than this.</span>
    memLockSize: 32K    <span class="comment">// Maximum number of bytes allowed to be locked into physical memory using mlock().</span>
    numFds: 20          <span class="comment">// Maximum number of file descriptors allowed to be open at the same time.</span>

processes:

    run: ( realTimeExe )

    priority: rt10
    vMemSize: 500K

    <span class="comment">/*-- Exception handling policy for processes in this section. --*/</span>
    faultAction: restart   <span class="comment">// Restart the process if it fails.</span>
    watchdogAction: restart  <span class="comment">// If the process doesn&#39;t kick its watchdog timer, kill it and restart it.</span>
</pre></div><h2><a class="anchor" id="processRun"></a>
run</h2>
<p>Names a process to be started by the Supervisor when the app is started. Also specifies executable and command-line arguments.</p>
<div class="fragment"><pre class="fragment">run: myProc1 ( myExe --foo -b 43 )
</pre></div><p>Process name and command-line arguments are optional </p>
<div class="fragment"><pre class="fragment">run: ( myexe ) 
</pre></div><p>Executables launched multiple times can appear in multiple “run” sections. </p>
<div class="fragment"><pre class="fragment">run: ( myexe )
run: ( myexe ) 
</pre></div><p>Command-line arguments passed to the process when started can appear after the executable name. </p>
<div class="fragment"><pre class="fragment">run: ( myexe --foo ) 
</pre></div><div class="fragment"><pre class="fragment">run: ( myexe --bar  <span class="comment">// Note that the command-line can be broken into multiple lines for readability.</span>
           --toto ) <span class="comment">// And it can be commented too. </span>
</pre></div><p>Runtime process name is the same as the executable by default. If the process name should be different, add the process name before the executable name.</p>
<div class="fragment"><pre class="fragment">run: procA ( myexe2 --foo )
run: procB ( myexe2 --bar ) 
</pre></div><p>Executable names can be the ones listed in the app’s “executables:” section, listed in the “import:” section or the "files:" section, in Component.cdef “files:” section of an included component.</p>
<p>Quotation marks (either single ' or double ") can be used if white-space (spaces, tabs, //, /*, etc.)
is needed inside a command-line argument, or if an empty argument is needed ("").</p>
<div class="fragment"><pre class="fragment">    run: ( greet <span class="stringliteral">&quot;Hello world&quot;</span> )
    run: ( greet <span class="stringliteral">&quot;Hello \&quot;Mr. Smarty-pants\&quot;&quot;</span> )
    run: ( greet <span class="stringliteral">&#39;Hello &quot;Mr. Smarty-pants&quot;&#39;</span> )
    run: ( fetchFromSmbShare <span class="stringliteral">&quot;\\\\Server\\Share\\Directory\\file&quot;</span> )
</pre></div><h2><a class="anchor" id="processenvVars"></a>
environment variarbles</h2>
<p>Environment variables appear as "name = value" pairs. The first value is the environment variable name; the second part is the variable value. Enclose the value in quotation marks (either single ' or double ") if white-space is required (spaces, tabs, //, /*, etc.). </p>
<div class="fragment"><pre class="fragment">    envVars:
        LE_LOG_LEVEL = DEBUG
        LE_LOG_LOCATION = <span class="stringliteral">&quot;stderr + syslog&quot;</span>
</pre></div><h2><a class="anchor" id="processPriority"></a>
priority</h2>
<p>Specifies the starting (and maximum) scheduling priority. A running app process can only lower its priority from this point. Once it has lowered its priority, it can't raise it again. If the process starts at medium priority and reduces to low priority, it can't go back to medium priority. Default is <b>medium</b>.</p>
<p>Values:</p>
<ul>
<li><b>idle</b> - for very low priority processes that only get CPU time if no other processes waiting for the CPU.</li>
<li><b>low</b>, <b>medium</b>, <b>high</b> - intended for normal processes that contend for the CPU. Processes with these priorities don't preempt each other, but their priorities affect how they're inserted into the schdeduling queue (high to low).</li>
<li><b>rt1</b> to <b>rt32</b> - intended for (soft) realtime processes. A higher realtime priority will pre-empt a lower realtime priority (ie. "rt2" would pre-empt "rt1"). Processes with any realtime priority will pre-empt processes with high, medium, low and idle priorities. Processes with these realtime priorities pre-empt the Legato framework processes. Ensure design lets realtime processes relinquish the CPU appropriately.</li>
</ul>
<div class="fragment"><pre class="fragment">priority: medium
</pre></div><h2><a class="anchor" id="processcoreFileSize"></a>
core dump files</h2>
<p>Specifies the maximum size of core dump files that can be created when processes crash. The <em>K</em> suffix permits specifying in kilobytes (multiples of 1024 bytes). Default is <b>zero</b>.</p>
<div class="fragment"><pre class="fragment">coreFileSize: 100K
</pre></div><h2><a class="anchor" id="processmaxFileSize"></a>
max file size</h2>
<p>Specifies the maximum size processes can make files. The <em>K</em> suffix permits specifying in kilobytes (multiples of 1024 bytes). Default is <b>88K</b>.</p>
<div class="fragment"><pre class="fragment">maxFileSize: 50K
</pre></div><h2><a class="anchor" id="processmemLockSize"></a>
max memory lock</h2>
<p>Specifies the maximum bytes of memory the process can lock into physical RAM (e.g., using mlock () ). Default is <b>8K</b>.</p>
<div class="fragment"><pre class="fragment">memLockSize: 32K
</pre></div><h2><a class="anchor" id="processnumFds"></a>
file descriptors</h2>
<p>Specifies the maximum number of file descriptors a process can have open at one time. Default is <b>256</b>.</p>
<div class="fragment"><pre class="fragment">numFds: 20
</pre></div><h2><a class="anchor" id="faultAction"></a>
faultAction</h2>
<p>This subsection specifies the action that the Supervisor should take when the process terminates with a non-zero exit code or because of an un-caught signal (e.g., SIGSEGV, SIGBUS, SIGKILL). Default is <b>ignore</b>.</p>
<p>Possible values are:</p>
<ul>
<li>"ignore" - the Supervisor just logs a warning message but will take no further action.</li>
<li>"restart" - log a critical message and then restart the process.</li>
<li>"restartApp" - log a critical message and then restart the entire application.</li>
<li>"terminateApp" - log a critical message then terminate the entire application (send all processes the SIGTERM signal, followed shortly by SIGKILL).</li>
<li>"reboot" - log an emergency message and reboot the system.</li>
</ul>
<div class="fragment"><pre class="fragment">faultAction: restart
</pre></div><p><br/>
 <hr/>
<p>Copyright (C) Sierra Wireless, Inc. 2013. All rights reserved. Use of this work is subject to license. </p>
</div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
  <div id="nav-path" class="navpath">
    <ul>
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless 2014
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.7.6.1
        </div>
    </div>
</body>
</html>
