<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Legato: Install Packages</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="fonts.css" rel="stylesheet" type="text/css" />
<link href="legato.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

<link rel="icon" type="image/png" href="favicon.ico">
</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo">
    <img alt="Logo" src="legatoLogo.png"/>
    <div id="projectbrief">Wireless M2M smooth and connected</div>
  </td>
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('getstarted_install_packages.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Install Packages </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="getstarted_machine_prep.html">Prep Dev Machine</a> before installing Legato packages.</p>
<p><a class="el" href="getstarted_install_packages.html#instToolchain">Install Legato Toolchain</a> <br/>
 <a class="el" href="getstarted_install_packages.html#instLegato">Install Legato</a> <br/>
 <a class="el" href="getstarted_install_packages.html#instPkgWhatsNext">What's Next?</a></p>
<p>Download the latest Legato packages through <a href="https://developer.sierrawireless.com/landing/legato.aspx">https://developer.sierrawireless.com/landing/legato.aspx</a>.</p>
<p>To access the Legato application framework, you'll need a GitHub account.</p>
<p>Then <a class="el" href="getstarted_install_packages.html#setupTarget">Setup Target Device</a>.</p>
<p>Here are the <a class="el" href="getstarted_install_packages.html#dirStruct">Directories</a> created.</p>
<h2><a class="anchor" id="instToolchain"></a>
Install Legato Toolchain</h2>
<p>You'll need to install the cross-toolchain for building ARM applications. Copy the either the 64-bit or 32-bit [Legato-Toolchain-file] to /opt/swi and then extract it.</p>
<p>You may need to use sudo:</p>
<div class="fragment"><pre class="fragment">$ mkdir â€“p /opt/swi
$ cp [Legato-Toolchain-file-name]  /opt/swi 
$ cd /opt/swi 
$ sudo tar xvjf [Legato-Toolchain-file-name]
</pre></div><h2><a class="anchor" id="instLegato"></a>
Install Legato</h2>
<p>Install the Legato application framework on your development host PC.</p>
<p>First, create a directory where you'll run Legato (e.g., mkdir Legato).</p>
<p>Then run: </p>
<div class="fragment"><pre class="fragment">git clone https:<span class="comment">//github.com/legatoproject/legato-af.git</span>
</pre></div><p> You'll be prompted for your GitHub credentials.</p>
<p><b>cd</b> to your Legato directory</p>
<p><b>Run</b> <code>make</code>.</p>
<p><b>Build</b> the framework on the target device by running: </p>
<div class="fragment"><pre class="fragment"> $ make [wp7 or ar7] 
</pre></div><p>Or to include the AV agent: </p>
<div class="fragment"><pre class="fragment"> $ make [wp7 or ar7] INCLUDE_AIRVANTAGE=1 
</pre></div><p><b> . bin/configlegatoenv </b> </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>You must configure your bash shell's environment for the Legato application build tools every time you open a new shell.</dd></dl>
<p>Run this every time you open a new shell: </p>
<div class="fragment"><pre class="fragment"> $ . bin/configlegatoenv 
</pre></div><h2><a class="anchor" id="setupTarget"></a>
Setup Target Device</h2>
<p>Here's how to setup your target device:</p>
<p><a class="el" href="getstarted_install_packages.html#copyStartScripts">Copy startup scripts to target</a> <br/>
 <a class="el" href="getstarted_install_packages.html#rebootTarget">Reboot target device</a> <br/>
 <a class="el" href="getstarted_install_packages.html#copyLibExe">Copy libraries and executables</a></p>
<p>You need to setup a few things on the target device before you can start developing Legato applications:</p>
<ul>
<li>install a serial commmunication program to access the device and obtain an IP address.</li>
<li>create startup directory on the device and copy startup scripts to the device.</li>
<li>copy Legato libraries and executables to the device.</li>
<li>install Legato on the device.</li>
</ul>
<h3><a class="anchor" id="copyStartScripts"></a>
Copy startup scripts to target</h3>
<p>Using ssh, access the device:</p>
<div class="fragment"><pre class="fragment"> ssh root@&lt;device ip addr&gt; 
</pre></div><p>Then create the startup directory: </p>
<div class="fragment"><pre class="fragment"> mkdir -p  /mnt/flash/startup 
</pre></div><p> When prompted for a password, just press enter.</p>
<p>Then copy the startup files to the device: </p>
<div class="fragment"><pre class="fragment">scp /targetFiles/mdm-9x15/startup/fg_* /mnt/flash/startup
</pre></div><p>Scripts beginning with <code>fg_</code> are started first, and then everything else is runs in the background. You can add more scripts to customize your target. <code>fg_</code> scripts must have executable permissions or they will not run.</p>
<p>See <a class="el" href="getstarted_install_notes.html">Yocto Install Notes</a> for helpful device setup tips.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>In the rare case you need to stop a start up script, run <div class="fragment"><pre class="fragment"> touch /mnt/flash/startup/stoplegato 
</pre></div></dd></dl>
<h3><a class="anchor" id="rebootTarget"></a>
Reboot target device</h3>
<p>Wait for the target to fully reboot. The device IP address may have changed. Check it using ifconfig on the serial console before proceeding.</p>
<h3><a class="anchor" id="copyLibExe"></a>
Copy libraries and executables</h3>
<p>Run this to copy the Legato framework libraries and executables onto the device, and start the Legato runtime components:</p>
<div class="fragment"><pre class="fragment">$ instlegato build/[ar7 or wp7] &lt;target ip address&gt;  
</pre></div><h2><a class="anchor" id="dirStruct"></a>
Directories</h2>
<p>Here's the top level Legato directory structure:</p>
<p><b> ./apps </b> - sample applications: airvantageDemo, helloWorld, modeDemo.</p>
<p><b> ./bin </b> - created by build system and populated with executable files run on the development host that ran the build. Contains files like <code>mkapp</code> and <code>mkexe</code>.</p>
<p><b>./build</b> - results of a framework build. Created by the build system.</p>
<p><b>./build/tools</b> - tools built and then used by the build system to build other things.</p>
<p><b> ./build/[target] </b> - output of a build for a specific target (e.g., ./build/wp7).</p>
<p><b> ./buildTools</b> - source code for build tools (when built, in ./build/tools).</p>
<p><b> ./cmake </b> - CMake scripts used by the build system.</p>
<p><b> ./components </b> - pre-built audio, data, modem and positioning components.</p>
<p><b>./framework</b> - source code for the Legato framework.</p>
<p><b> ./interfaces </b> - pre-built audio, data, modem and positioning interfaces.</p>
<p><b>./targetFiles </b> - files for installation on target devices.</p>
<h2><a class="anchor" id="instPkgWhatsNext"></a>
What's Next?</h2>
<p>Depending on your environment, you may need to set up other things:</p>
<p><a class="el" href="getstarted_yocto_linux.html">Yocto Linux</a> <br/>
 <a class="el" href="getstarted_legato_tooling.html">Developer Studio</a> <br/>
 <a class="el" href="getstarted_windows_host.html">Windows Host</a> <br/>
</p>
<p>Or you can move on to creating an <a class="el" href="apphello_world.html#helloWorld">Hello World</a> app.</p>
<hr/>
<p>Copyright (C) Sierra Wireless, Inc. 2014. All rights reserved. </p>
</div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
  <div id="nav-path" class="navpath">
    <ul>
   <div class="footer">
        <div>
            <a href="https://www.sierrawireless.com/">
                <img src="swi-ico-medium.png" width="24" alt="" />
                &nbsp;Sierra Wireless 2014
            </a>
            &nbsp;-&nbsp;
            Generated by Doxygen 1.7.6.1
        </div>
    </div>
</body>
</html>
